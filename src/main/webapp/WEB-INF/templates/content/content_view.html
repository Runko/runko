<!DOCTYPE html>
<html xlmns="http://www.w3.org/1999/xhtml" xlmns:th="http://www.thymeleaf.org">

    <head lang="en">
        <!-- bootstrap.min.css is bootstraps own css -->
        <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css" th:href="@{/static/css/bootstrap.min.css}" />

        <!-- layout.css is Runkos css -->
        <link href="/css/layout.css" rel="stylesheet" type="text/css" th:href="@{/static/css/layout.css}" />

        <!-- jQuery file -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" 
        th:src="@{/static/jquery.min.js}"></script>

        <!-- Bootstrap (js-file) -->
        <script src="/js/bootstrap.min.js" 
        th:src="@{/static/js/bootstrap.min.js}"></script>

        <meta name="viewport" content="width=device-width, initial-scale=1.0" /> 

        <title>Pääkaupunkiseudun partiolaiset</title>
    </head>

    <body>
        <div th:include ="fragments/navbar_template :: navbar">navbar</div>

        <!-- centered is in layout.css -->
        <div class="centered">
            
            <div th:include="fragments/messages_template :: messages"></div>
            
            <div class="col-sm-12">

                <!-- This makes contens name to heading -->
                <h2 th:text="${content.name}"></h2>
                <div style="font-size:8px; color:grey">
                    <p>Luotu: <span th:text="${content.creationTime}"></span></p>
                    <div th:if="${content.modifyTime != content.creationTime}">
                        <p>Muokattu: <span th:text="${content.modifyTime}"></span></p>
                    </div>
                </div>
                <!-- This tell content -->
                <p th:utext="${content.textArea}"></p>

                <form th:method="post" th:action="@{/content/{id}(id=${content.id})}" id="contentform">
                    <div th:if="${book} == false">
                        <button name="bookmark" type="submit" class="btn btn-primary" value="Order">Lisää kirjanmerkkeihin</button>
                    </div>
                    <div th:if="${book}  == true">
                        <button name="unbookmark" type="submit" class="btn btn-primary" value="StopOrder">Poista kirjanmerkeistä</button>
                    </div>
                </form>
                
                
                <!-- This lists areas, where content belongs to -->
                <!-- bold is in layout.css -->
                <table>
                    <h3>Sisältöalueet</h3>
                    <tr th:each="area : ${content.areas}">
                    <tr><th><a th:href="@{/area/{id}(id=${area.id})}" th:text="${area.name}" class="bold"></a></th></tr>
                    <tr></tr>
                    </tr> 

                </table>

                <div th:if="${person != null}" >
                    <div th:if="${person.id == content.owner.id}">
                        <!-- Shows buttons only if user who is logged in is owner -->
                        <!-- topspace is in layout.css -->
                        <div class="topspace">
                            <form th:method="get" th:action="@{/content/edit/{id}(id=${content.id})}" >
                                <button name="edit" type="submit" class="btn btn-primary">Muokkaa</button>
                            </form>
                        </div>  

                        <!-- topspace is in layout.css -->
                        <div class="topspace">
                            <form th:method="delete" th:action="@{/content/{id}(id=${content.id})}">
                                <button name="remove" type="submit" class="btn btn-danger">Poista</button>
                            </form>
                        </div>
                    </div>

                </div>

            </div>

        </div> 
    </body>
</html>
